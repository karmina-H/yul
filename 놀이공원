#include <iostream>
#include "Person.h"
#include "Ride.h"
using namespace std;

int main(void) {

	// 놀이기구 가동
	Viking v;

	// 사람 입장
	Person p1("강아지", 2);
	Person p2("고양이", 6);
	Person p3("코끼리", 10);
	Person p4("다람쥐", 4);
	Person p5("개구리", 1);

	// 놀이기구 탑승
	p2.RideViking(v);
	p3.RideViking(v);
	p4.RideViking(v);
	p5.RideViking(v);


	p1.ShowData();
	p2.ShowData();
	p3.ShowData();
	p4.ShowData();
	p5.ShowData();

	return 0;
}

----------------------------------------------

#pragma once
#include<iostream>
#include "person.h"
#include "Ride.h"
using namespace std;

class Chu {
private:
	int size;
	int n;
	int price = 2000;
public:
	void bill(int k)
	{
		total += k;
	}

	Chu(int _size, int num)
	{
		cout << "크기가" << _size << "인 츄로스" << num << "개를주문하시겠습니까??" << endl;
		this->size = _size;
		this->n = num;

	}
	explicit Chu(const Chu& ref) :size(ref.size), n(ref.n)
	{
		cout << "크기가" << size << "인 츄로스" << n << "개가 나왔습니다~" << endl;
		bill(size*n*price);
	}

};




------------------------------



#pragma once
#include <iostream>
#include "Ride.h"
using namespace std;

static int total;

class Person {
private:
	int count;  // 이용한 놀이기구 개수
	char name[10];  // 대표자 이름
	int n;  // 인원
public:
	Person(const char* _name, int num) : count(0)//const사용,포인터
	{
		strcpy(name, _name);
		this->n = num;
		cout << "환영합니다~" << endl;
		cout << "결제는 놀이기구 탑승후 한번에 계산하시면됩니다." << endl;
		cout << "재밌는 시간 보내십시오~" << endl;
	}

	void RideViking(Viking& v) {   //call by reference사용
		cout << name << "님, ";
		if (v.GetSeat() <= 0) {
			v.SetSeat(20);
			cout << "놀이기구가 만석입니다. 대기시간 " << v.GetTime() << "분입니다." << endl;
		}
		else {
			v.SetSeat(this->n);  //this포인터 사용
			if (v.GetSeat() < 0)
				cout << "놀이기구 수용 인원 초과입니다." << n + v.GetSeat() << "명만 탑승 가능합니다." << endl;
			else
			{
				cout << "인원 " << n << "명 바이킹 탑승하셨습니다." << endl;
				total += (v.GetCost()) * this->n;
				count++;
			}
		}
	}

	void ShowData(void)
	{
		cout << name << "님, ";
		cout << "총 " << count << "개의 놀이기구를 이용하셨습니다." << endl;
		cout << "결제 금액은 " << total << "원입니다." << endl;
	}
}; 



------------------






#pragma once
#include <iostream>
using namespace std;

class Viking {
private:
	int time;  // 탑승시간
	int cost;  // 이용요금
	int seat;  // 잔여석
public:
	Viking() : time(5), cost(2000), seat(20)
	{ }
	int GetCost(void) {
		return cost;
	}
	int GetTime(void) {
		return time;
	}
	int GetSeat(void) {
		return seat;
	}
	void SetSeat(int n) {
		if (n == 20)
			seat = 20;
		else
			seat -= n;
	}
};
